.TH "SFEED_UPDATE" "1" "December 25, 2014" "" "General Commands Manual"
.nh
.if n .ad l
.SH "NAME"
\fBsfeed_update\fR
\- update feeds and merge with old feeds
.SH "SYNOPSIS"
.HP 13n
\fBsfeed_update\fR
[\fIconfigfile\fR]
.SH "DESCRIPTION"
\fBsfeed_update\fR
updates feeds and merges the new data with the previous feeds. This is the file
$HOME/.sfeed/feeds by default.
.SH "OPTIONS"
.TP 19n
\fIconfigfile\fR
config file, if not specified uses the location $HOME/.sfeed/sfeedrc by default
see the
\fIFILES READ\fR
section for more information.
.SH "TAB-SEPARATED FORMAT FIELDS"
The items are saved in a TSV-like format except newlines, tabs and
backslash are escaped with \\ (\\n, \\t and \\\\). Carriage returns (\\r) are
removed.
.PP
The order and format of the fields are:
.TP 19n
\fIitem timestamp\fR
string, UNIX timestamp in GMT+0
.TP 19n
\fIitem timestamp\fR
string, date and time in the format: YYYY-mm-dd HH:MM:SS tzname[+-]HHMM
.TP 19n
\fIitem title\fR
string
.TP 19n
\fIitem link\fR
string
.TP 19n
\fIitem content\fR
string
.TP 19n
\fIitem content\-type\fR
.br
string, "html" or "plain"
.TP 19n
\fIitem id\fR
string
.TP 19n
\fIitem author\fR
string
.TP 19n
\fIfeed type\fR
string, "rss" or "atom"
.SH "EXTRA FIELDS"
Extra fields added by sfeed_update:
.TP 19n
\fIfeed name\fR
string
.TP 19n
\fIfeed url\fR
string
.TP 19n
\fIitem baseurl site\fR
string
.SH "FILES READ"
.TP 19n
\fIsfeedrc\fR
Config file, see the sfeedrc.example file for an example.
This file is evaluated as a shellscript in sfeed_update.
You can for example override the fetchfeed() function to
use wget, fetch or an other download program or you can
override the merge() function to change the merge logic.
The function feeds() is called to fetch the feeds. By
default the function feed() is executed as a parallel
job to speedup updating.
.SH "FILES WRITTEN"
.TP 19n
\fIfeeds\fR
Tab-separated format containing all feeds.
The sfeed_update script merges new items with this file.
.TP 19n
\fIfeeds.new\fR
Temporary file used by sfeed_update to merge items.
.SH "EXAMPLES"
To update feeds and format the feeds file:
.nf
.sp
.RS 0n
sfeed_update "configfile"
sfeed_plain < $HOME/.sfeed/feeds > $HOME/.sfeed/feeds.txt
sfeed_html < $HOME/.sfeed/feeds > $HOME/.sfeed/feeds.html
.RE
.fi
.SH "SEE ALSO"
sh(1),
sfeed_plain(1),
sfeed_html(1)
.SH "AUTHORS"
Hiltjo Posthuma <\fIhiltjo@codemadness.org\fR>
