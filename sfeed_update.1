.TH SFEED 1 sfeed\-VERSION
.SH NAME
sfeed_update \- update feeds and merge with old feeds
.SH SYNOPSIS
.B sfeed_update
.RB [configfile]
.SH OPTIONS
.TP
.B [configfile]
config file, if not specified uses the location $HOME/.sfeed/sfeedrc by default (see FILES READ section for more information).
.SH DESCRIPTION
.TP
Update feeds and merge with old feeds in the file $HOME/.sfeed/feeds by default.
.SH TAB-SEPARATED FORMAT
The items are saved in a TSV-like format except newlines, tabs and
backslash are escaped with \\ (\\n, \\t and \\\\). Carriage returns (\\r) are
removed.
.TP
.B item timestamp (unix timestamp in GMT+0)
string
.TP
.B item timestamp (formatted)
string (YYYY-mm-dd HH:MM:SS tzname[+-]HHMM
.TP
.B item title
string
.TP
.B item link
string
.TP
.B item description
string
.TP
.B item contenttype
string (html or plain)
.TP
.B item id
string
.TP
.B item author
string
.TP
.B feed type
string (rss or atom)
.TP
.B feed name
string (extra field added by sfeed_update)
.TP
.B feed url
string (extra field added by sfeed_update)
.SH FILES READ
.TP
.B sfeedrc
Config file, see the sfeedrc.example file for an example.
This file is evaluated as a shellscript in sfeed_update.
You can for example override the fetchfeed() function to
use wget, fetch or an other download program or you can
override the merge() function to change the merge logic.
The function feeds() is called to fetch the feeds. The
function feed() can safely be executed as a parallel job
in your sfeedrc config file to speedup updating.
.SH FILES WRITTEN
.TP
.B feeds
Tab-separated format containing all feeds.
The sfeed_update script merges new items with this file.
.TP
.B feeds.new
Temporary file used by sfeed_update to merge items.
.SH EXAMPLES
.TP
To update feeds and format the feeds file:
.nf
sfeed_update "configfile"
sfeed_plain < $HOME/.sfeed/feeds > $HOME/.sfeed/feeds.txt
sfeed_html < $HOME/.sfeed/feeds > $HOME/.sfeed/feeds.html
.SH SEE ALSO
.BR sh(1)
.BR sfeed_plain(1)
.BR sfeed_html(1)
.SH BUGS
Please report them!
